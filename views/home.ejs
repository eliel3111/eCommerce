<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/styles/main.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Text:ital@0;1&family=Montserrat&family=Roboto&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@900&display=swap" rel="stylesheet">


    <title>E-Commerce</title>
</head>
<body >
  <%- include("partials/header.ejs")%>
  <!-- Tooltip shown when clicking the property type button -->
                      <div id="modalOverlay" >
                        <div id="modalContent">
                          <button id="closeModalBtn">
                            <div class="closeModalBtn-x">
                              <svg width="24" height="24" viewBox="0 0 20 20">
                              <line x1="4" y1="4" x2="16" y2="16" stroke="#b99a32" stroke-width="2"/>
                              <line x1="16" y1="4" x2="4" y2="16" stroke="#b99a32" stroke-width="2"/>
                            </svg>
                            </div>
                          </button>

                          <div class="modal-title-label">Eliga su Ubicacion:</div>

                          <div id="containerCity">
                            <div class="modal-city-label">Ciudad:</div>
                            <div id="divA">
                              <div id="cityButton">Seleccionar</div>
                              <div class="div-inmmuebles">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="15" height="15" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" />
                                </svg>                   
                              </div>
                            </div>
                          </div>

                          <div id="containerSector">
                            <div class="modal-city-label">Sector:</div>
                            <div id="divB" class="modal-city-container">
                              <div id="sectorButton">Seleccionar</div>
                              <div class="div-inmmuebles">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="15" height="15" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" />
                                </svg>                   
                              </div>
                            </div>
                          </div>

                          <button id="locationSaveButton" class="fixed-save-btn">Guardar</button>
                        </div>
                      </div>
  <div class="home-page-area">
    <!--Espacio en los lados-->
      <div class="space-home"></div>
    <!--Aera del centro de la paguina-->
      <div id="homeBarArea" class="home-bar-area">
        <div class="eliel">
          <h1 class="big_title">Encuentra el hogar <br> de tus Suenos!</h1>
        
        
          <div class="title-search-div-a">
            <div class="segmented-control">
              <button class="segment selected">Todos</button>
              <button class="segment">Compra</button>
              <button class="segment">Alquiler</button>
            </div>
            <!--BOTONES DE ELEGIR TIPO DE INMUEBLE, PRECIO Y LUGAR-->
            <!-- Main search container -->
            <div class="title-search-div-c">
              <div class="title-search-div-b">
                
                
                
                 <!-- Button: Property Type -->
                <div class="div-b">
                  <button id="tooltipBtn" class="details-search-button">
                    <div class="div-b-a">


                     <!-- Tooltip shown when clicking the property type button -->
                      <div id="tooltipType" class="tooltip-type" >
                        <div class="container-tool-type">
                        <div id="inmueble-1" onclick="handleTypeTool('inmueble-1')">Inmuebles</div>
                        <div id="inmueble-2" onclick="handleTypeTool('inmueble-2')">Apartamentos</div>
                        <div id="inmueble-3" onclick="handleTypeTool('inmueble-3')" >Casas</div>
                        <div id="inmueble-4" onclick="handleTypeTool('inmueble-4')">Casas Vacacionales y Villas</div>
                        <div id="inmueble-5" onclick="handleTypeTool('inmueble-5')">Locales y Oficinas</div>
                        <div id="inmueble-6" onclick="handleTypeTool('inmueble-6')">Solares</div>
                        <div id="inmueble-7" onclick="handleTypeTool('inmueble-7')">Penthouses</div>
                        <div id="inmueble-8" onclick="handleTypeTool('inmueble-8')">Otros</div>
                        </div>
                      </div>

                      <!-- House icon -->
                      <div>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="#d1d1d1" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                          <path stroke-linecap="round" stroke-linejoin="round" d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
                        </svg>                        
                      </div>

                      <!-- Label: Property -->
                      <span class="span-inmuebles">Inmuebles</span>

                      <!-- Dropdown arrow icon -->
                      <div class="div-inmmuebles">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="15" height="15" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                          <path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" />
                        </svg>                         
                      </div>

                    </div>
                  </button>
                </div>


               <!-- Button: Price -->  
                <div class="div-b">
                  <button id="tooltipBtnPrice" class="details-search-button">
                    <div class="div-b-ab">
                      
                       <!-- Tooltip shown when clicking the property "PRICE"" button -->
                      <div id="tooltipPrice" class="tooltip-price" >
                        <div class="container-tool-price">
                          <div class="tool-price-moneda">
                            <div>Moneda</div>
                            <div id="tooltipPriceX" class="closetooltipPrice-x">
                              <svg width="24" height="24" viewBox="0 0 20 20">
                              <line x1="4" y1="4" x2="16" y2="16" stroke="#b99a32" stroke-width="2"/>
                              <line x1="16" y1="4" x2="4" y2="16" stroke="#b99a32" stroke-width="2"/>
                              </svg> 
                            </div>
                          </div>

                          <div class="tool-price-moneda-options">
                            <div class="tool-price-moneda-rd tool-price-moneda-selected" id="toolPriceRd">$RD</div>
                            <div class="tool-price-moneda-usa" id="toolPriceUsa">$USA</div>
                          </div>

                          <div class="currency-labels">
                            <div class="min-label">Minimo</div>
                            <div class="max-label">Maximo</div>
                          </div>

                          <div class="area-price-input">
                            <input class="price-input" type="text" id="inputMin" placeholder="Mínimo" />
                            <input class="price-input" type="text" id="inputMax" placeholder="Máximo" />
                          </div>

                          <div class="toolprice-buttons">
                            <div class="toolprice-clear" id="toolPriceClear">Limpiar</div>
                            <div class="toolprice-save" id="toolPriceSave">Guardar</div>
                          </div>
                        </div>
                      </div>
                      
                      <!-- House icon -->
                      <div>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="#d1d1d1" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                          <path stroke-linecap="round" stroke-linejoin="round" d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
                        </svg>                        
                      </div>


                      <!-- Label: Price -->
                      <span class="span-inmuebles" id="spanPrecio">Precio</span>


                      <!-- Dropdown arrow icon -->
                      <div class="div-inmmuebles">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="15" height="15" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                          <path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" />
                        </svg>                         
                      </div>


                    </div>
                  </button>
                </div>

                <!-- Button: Location -->
                <div class="div-b">
                  <button id="openModalBtn" class="details-search-button">
                    <div class="div-b-a">

                      <!-- House icon -->
                      <div>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="#d1d1d1" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                          <path stroke-linecap="round" stroke-linejoin="round" d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
                        </svg>                        
                      </div>


                      <!-- Label: Location -->
                      <span id="spanLocation" class="span-inmuebles">Ubicacion</span>


                      <!-- Dropdown arrow icon -->
                      <div class="div-inmmuebles">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="15" height="15" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                          <path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" />
                        </svg>                         
                      </div>


                    </div>
                  </button>
                </div>
                
                
              </div>
            </div>
            

            <!-- Hidden form to store search values -->
            <form id="formInmueble" action="/buscar-inmuebles" method="GET" style="display: none;">
              <input id="type-search" type="hidden" name="tipo_inmueble" value="Todos">
              <input  value="" id="tipo-inmueble-busqueda" type="text" name="inmueble">
              <input id="moneda-busqueda" type="text" name="moneda" value="RD">
              <input id="min-precio-busqueda" type="number" name="minPrecio" value="">
              <input id="max-precio-busqueda" type="number" name="maxPrecio" value="">
              <input id="ciudad-busqueda" type="text" name="ubicacion" value="">
              <input id="sector-busqueda" type="text" name="ubicacion" value="Todos los sectores">
            </form>
          </div>
          <button type="submit" form="formInmueble"  class="search-main-btn">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-4.35-4.35M11 18a7 7 0 1 1 0-14 7 7 0 0 1 0 14z" />
            </svg>
            Realizar Búsqueda
          </button>
        </div>  
      </div>
      <!-- Extra space below the search section -->
      <div class="space-home"></div>
  </div>
  <div class="contenedor-grid">
  <div class="space-grid-home"></div>

  <div class="grid-center-area">
    <!--Anuncio Destacado-->
    <div class="titulo-destacados">
      <span class="title-text">Propiedades destacadas</span>
      <div id="infoDestacados" class="info-icon" title="Estas son propiedades seleccionadas por su alta demanda.">!</div>
      

      <!--Tool tip de anuncio destacados-->
      <div id="toolAnuncio" class="tooltip-anuncio">
        <button id="btnCerrar" class="btn-cerrar" title="Cerrar">
    <!-- Icono SVG de cerrar -->
    <svg width="25" height="25" viewBox="0 0 20 20" fill="none" stroke="#b71c1c" stroke-width="2">
      <line x1="4" y1="4" x2="16" y2="16" />
      <line x1="16" y1="4" x2="4" y2="16" />
    </svg>
  </button>
        <div class="mensaje-principal">¡Anuncia aquí y vende más rápido que nunca!</div>
        <div class="contacto-whatsapp">
          <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" class="whatsapp-logo">
          <span>Contáctanos vía WhatsApp</span> — <strong>929-541-6787</strong>
        </div>
        <div class="boton-container">
          <a
          href="https://wa.me/19295416787?text=Hola,%20quiero%20anunciar%20mi%20propiedad"
          target="_blank"
          class="whatsapp-btn"
          >
          Enviar mensaje por WhatsApp
          </a>
        </div>
      </div>
    </div>
    <div class="grid-anuncios">
      <% if (content.length > 0) { %>
      <% content.forEach(inmueble => { %>
        <div class="anuncio-container">

          <div class="anuncio-image">
            <img src=https://www.corotos.com.do/imagenes/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCSFdLcUFJPSIsImV4cCI6bnVsbCwicHVyIjoiYmxvYl9pZCJ9fQ==--9e7c08a788d06e39bab1e5272bd6cd92622d4b98/6_jpeg?variant_options%5Bformat%5D=webp&variant_options%5Bresize_to_fit%5D%5B%5D=1280&variant_options%5Bresize_to_fit%5D%5B%5D=720>
          </div>

          <div class="anuncio-type">
            <%= inmueble.tipo_inmueble %>
          </div>

          <div class="anuncio-details">

            <div class="anuncio-detail-price"><%= inmueble.moneda %>:<%= inmueble.precio %></div>

            <div class="anuncio-detail-title"><%= inmueble.titulo %></div>

            <div class="anuncio-detail-specs">
              <%= inmueble.hab %> <span class="detail-specs">Hab:</span> - <%= inmueble.banos %> <span class="detail-specs">Ba:</span> - <%= inmueble.metros_cuadrados %> <span class="detail-specs">m²:</span> 
            </div>

            <div class="anuncio-detail-location">
              <%= inmueble.ciudad %>, <%= inmueble.sector %>
            </div>

          </div>
        </div>
      <% }) %>
    <% } else { %>
      <li>No hay inmuebles disponibles.</li>
    <% } %>
    </div>
  </div>

  <div class="space-grid-home"></div>
  </div>

  <%- include("partials/footer.ejs")%>  





  <!--
  <div class="result-number">
    <% if (locals.content) { %>
      <div class="result-number-count">Results: <%=locals.content.length%></div>
      <p class="result-number-p">Check each product page for other buying options.
      <%} else {%>
        <div class="result-number-count">Results: None</div>
        <% } %>
      </p>
    </div>
    <div id="homeGrid" class="home-grid-container">
      <% if (locals.content) { %>
      <% for (let i = 0; i < locals.content.length; i++) {   %>
        <form method="POST" action="/anuncio" type="button" >
        <div class="result-product">
          
            <div class="result-product-image">
              <button class="submit" type="submit" value="<%=content[i].idDrink%>" name="id">
                <img class="product-image"  src="<%=content[i].strDrinkThumb%>">
              </button>
              </div>
          
          <button class="submit" type="submit" value="<%=content[i].idDrink%>" name="id">
            <div id="productTitle" class="result-product-title"><%=content[i].strDrink%></div>
          </button>
          
          <div class="result-product-licor"><%=content[i].strCategory%></div>
        </div>
      </form>
      <% } %>
      <% } %>
    </div>
    -->

  <script src="test.js" type="text/javascript">
    
  </script>
</body>
</html>